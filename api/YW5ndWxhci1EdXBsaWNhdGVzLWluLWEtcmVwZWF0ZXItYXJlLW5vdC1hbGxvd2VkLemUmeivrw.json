{"title":"angular Duplicates in a repeater are not allowed 错误","date":"2014-05-20T09:05:00.000Z","link":"angular-Duplicates-in-a-repeater-are-not-allowed-错误","comments":true,"tags":["angular","javascript","mean"],"categories":["代码"],"updated":"2020-04-15T21:36:20.851Z","content":"<p>最近在做一个使用 MEAN.io 开发的项目，用到 angular, mongodb, express 之类比较有意思的框架类库，只是自己这些东西都不是很熟，使用中遇到了很多问题，也只能慢慢看文档。</p>\n<p>中午遇到个的错误</p>\n<figure class=\"highlight\"><div><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Angular ng-<span class=\"keyword\">repeat</span> Error “Duplicates <span class=\"keyword\">in</span> <span class=\"keyword\">a</span> repeater are <span class=\"keyword\">not</span> allowed.”</span><br></pre></td></tr></table></div></figure>\n\n<p>解决办法是在 ng-repeat 后加上 track by $index</p>\n<p>具体原因看 stackoverflow 上高手的回答：</p>\n<blockquote>\n<p>I wanted to mention that you can apply any custom tracking property to define uniqueness, not just $index. Since in this scenario the objects don’t have any other properties this works fine. The reason this error happens is that angular is using a dictionary to store the id of an item as the key with the value as the DOM reference. From the code (line 15402 in angular.js) it looks like they are caching previously found DOM elements based on their key as a performance optimization. Since they need unique keys they explicitly throw this error when they find duplicate keys on line 15417</p>\n</blockquote>\n<p>好几万行源码看下来还是很有压力的，先把项目做出来，有时间再去了解下源码。</p>\n<p><a href=\"http://stackoverflow.com/questions/16296670/angular-ng-repeat-error-duplicates-in-a-repeater-are-not-allowed\" target=\"_blank\" rel=\"noopener\">angular-ng-repeat-error-duplicates-in-a-repeater-are-not-allowed</a></p>\n","prev":{"title":"angular 一步一个坑","link":"angular-一步一个坑"},"next":{"title":"angular 踩坑记录","link":"angular-遇到的坑记录"},"plink":"https://wuwb.github.io/angular-Duplicates-in-a-repeater-are-not-allowed-错误/","reward":true,"copyright":{"author":"吴文斌","link":"<a href=\"https://wuwb.github.io/angular-Duplicates-in-a-repeater-are-not-allowed-错误/\" title=\"angular Duplicates in a repeater are not allowed 错误\">https://wuwb.github.io/angular-Duplicates-in-a-repeater-are-not-allowed-错误/</a>","license":"自由转载-非商用-禁止演绎-保持署名 (<a href=\\\"https://creativecommons.org/licenses/by-nc-nd/4.0/\\\" rel=\\\"external nofollow\\\" target=\\\"_blank\\\">CC BY-NC-ND 4.0</a>)"}}