{"title":"javascript生成指定位数的随机字符串","date":"2015-06-15T02:53:08.000Z","link":"javascript生成指定位数的随机字符串","comments":true,"tags":["javascript"],"categories":["代码"],"updated":"2020-04-15T21:36:20.851Z","content":"<p>先是一个比较low的方法，效率也比较低</p>\n<figure class=\"highlight\"><div><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\"> * 返回指定位数的随机字符串</span></span><br><span class=\"line\"><span class=\"comment\"> */</span></span><br><span class=\"line\"><span class=\"keyword\">var</span> getRndString = <span class=\"function\"><span class=\"keyword\">function</span>(<span class=\"params\">len</span>) </span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">var</span> s = [];</span><br><span class=\"line\">  <span class=\"keyword\">var</span> a = <span class=\"built_in\">parseInt</span>(<span class=\"built_in\">Math</span>.random() * <span class=\"number\">25</span>) + (<span class=\"built_in\">Math</span>.random() &gt; <span class=\"number\">0.5</span> ? <span class=\"number\">65</span> : <span class=\"number\">97</span>);</span><br><span class=\"line\">  <span class=\"keyword\">for</span> (<span class=\"keyword\">var</span> i = <span class=\"number\">0</span>; i &lt; len; i++) &#123;</span><br><span class=\"line\">    s[i] = <span class=\"built_in\">Math</span>.random() &gt; <span class=\"number\">0.5</span> ? <span class=\"built_in\">parseInt</span>(<span class=\"built_in\">Math</span>.random() * <span class=\"number\">9</span>) : <span class=\"built_in\">String</span>.fromCharCode(<span class=\"built_in\">parseInt</span>(<span class=\"built_in\">Math</span>.random() * <span class=\"number\">25</span>) + (<span class=\"built_in\">Math</span>.random() &gt; <span class=\"number\">0.5</span> ? <span class=\"number\">65</span> : <span class=\"number\">97</span>));</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"keyword\">return</span> s.join(<span class=\"string\">\"\"</span>);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></div></figure>\n\n<p>下面是好看一点的</p>\n<figure class=\"highlight\"><div><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\"> * 返回指定位数的随机字符串</span></span><br><span class=\"line\"><span class=\"comment\"> */</span></span><br><span class=\"line\"><span class=\"keyword\">var</span> getRndString = <span class=\"function\"><span class=\"keyword\">function</span> (<span class=\"params\">length</span>) </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">var</span> arr = <span class=\"string\">'abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789'</span>;</span><br><span class=\"line\">    <span class=\"keyword\">var</span> arrLen = arr.length;</span><br><span class=\"line\">    <span class=\"keyword\">var</span> s = <span class=\"string\">''</span>;</span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"keyword\">var</span> i = <span class=\"number\">0</span>; i &lt; length; i++) &#123;</span><br><span class=\"line\">        s += arr.charAt((<span class=\"built_in\">Math</span>.random() * arrLen));</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">return</span> s;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></div></figure>\n\n<p>性能测试地址<br><a href=\"http://jsperf.com/getrndstring\" target=\"_blank\" rel=\"noopener\">http://jsperf.com/getrndstring</a></p>\n","prev":{"title":"堡垒机简介","link":"堡垒机简介"},"next":{"title":"new Image() 打点注意事项","link":"new-Image-打点注意事项"},"plink":"https://wuwb.github.io/javascript生成指定位数的随机字符串/","reward":true,"copyright":{"author":"吴文斌","link":"<a href=\"https://wuwb.github.io/javascript生成指定位数的随机字符串/\" title=\"javascript生成指定位数的随机字符串\">https://wuwb.github.io/javascript生成指定位数的随机字符串/</a>","license":"自由转载-非商用-禁止演绎-保持署名 (<a href=\\\"https://creativecommons.org/licenses/by-nc-nd/4.0/\\\" rel=\\\"external nofollow\\\" target=\\\"_blank\\\">CC BY-NC-ND 4.0</a>)"}}