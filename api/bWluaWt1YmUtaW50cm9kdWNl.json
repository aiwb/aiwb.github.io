{"title":"minikube 介绍","date":"2019-11-19T04:20:05.000Z","link":"minikube-introduce","comments":true,"tags":["docker","kubectl","minikube"],"categories":["运维"],"updated":"2020-04-15T21:36:20.855Z","content":"<p>minikube 是一个用来在个人电脑的虚拟机上运行单节点 Kubernetes 集群的工具。</p>\n<h2 id=\"安装前准备\">安装前准备<a href=\"minikube-introduce#安装前准备\"></a></h2><h3 id=\"一\">一<a href=\"minikube-introduce#一\"></a></h3><p>先要确认电脑是否支持 minikube 需要的虚拟机化技术。mac 电脑的话执行</p>\n<figure class=\"highlight\"><div><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sysctl -a | grep -E --color <span class=\"string\">'machdep.cpu.features|VMX'</span></span><br></pre></td></tr></table></div></figure>\n\n<p>如果返回值中包含高亮的 <code>VMX</code> 值，说明系统是支持的。</p>\n<a id=\"more\"></a>\n\n<h3 id=\"二\">二<a href=\"minikube-introduce#二\"></a></h3><p>要确认电脑上已经安装 <code>kubectl</code>, 这个工具安装 docker for desktop 后就有了。</p>\n<h3 id=\"三\">三<a href=\"minikube-introduce#三\"></a></h3><p>安装一个虚拟层管理工具。可以是下面三个之一。</p>\n<ul>\n<li>HyperKit</li>\n<li>VirtualBox</li>\n<li>VMware Fusion</li>\n</ul>\n<p>HyperKit 在安装 docker for desktop 后就有了。</p>\n<h2 id=\"安装\">安装<a href=\"minikube-introduce#安装\"></a></h2><p>安装很简单，brew 安装就好了。</p>\n<figure class=\"highlight\"><div><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">brew install minikube</span><br></pre></td></tr></table></div></figure>\n\n<h2 id=\"清理本地环境\">清理本地环境<a href=\"minikube-introduce#清理本地环境\"></a></h2><p>如果原来安装过 minikube， 执行</p>\n<figure class=\"highlight\"><div><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">minikube <span class=\"literal\">start</span></span><br></pre></td></tr></table></div></figure>\n\n<p>命令的时候可能会报错,</p>\n<figure class=\"highlight\"><div><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">machine <span class=\"keyword\">does</span> <span class=\"keyword\">not</span> exist</span><br></pre></td></tr></table></div></figure>\n\n<p>这种情况下，执行</p>\n<figure class=\"highlight\"><div><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">minikube <span class=\"keyword\">delete</span></span><br></pre></td></tr></table></div></figure>\n\n<p>清理环境后重新执行 <code>minikube start</code> 启动集群。</p>\n<h2 id=\"参考\">参考<a href=\"minikube-introduce#参考\"></a></h2><ul>\n<li><a href=\"https://kubernetes.io/docs/tasks/tools/install-minikube/\" target=\"_blank\" rel=\"noopener\">https://kubernetes.io/docs/tasks/tools/install-minikube/</a></li>\n</ul>\n","prev":{"title":"使用服务对象访问集群中的应用","link":"use-service-access-application-in-cluster"},"next":{"title":"威联通使用: docker registry 设置","link":"qnap-docker-registry-setting"},"plink":"https://wuwb.github.io/minikube-introduce/","toc":[{"title":"安装前准备","id":"安装前准备","index":"1","children":[{"title":"一","id":"一","index":"1.1"},{"title":"二","id":"二","index":"1.2"},{"title":"三","id":"三","index":"1.3"}]},{"title":"安装","id":"安装","index":"2"},{"title":"清理本地环境","id":"清理本地环境","index":"3"},{"title":"参考","id":"参考","index":"4"}],"reward":true,"copyright":{"author":"吴文斌","link":"<a href=\"https://wuwb.github.io/minikube-introduce/\" title=\"minikube 介绍\">https://wuwb.github.io/minikube-introduce/</a>","license":"自由转载-非商用-禁止演绎-保持署名 (<a href=\\\"https://creativecommons.org/licenses/by-nc-nd/4.0/\\\" rel=\\\"external nofollow\\\" target=\\\"_blank\\\">CC BY-NC-ND 4.0</a>)"}}