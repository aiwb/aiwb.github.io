{"title":"Git多账号切换问题","date":"2014-04-01T16:00:00.000Z","link":"git-多账号切换问题","comments":true,"tags":["git","tools"],"categories":["代码"],"updated":"2020-04-15T21:36:20.851Z","content":"<p>看了几篇文章，是把几种场景分开来写了，这样有好也有坏处，<br>好处是进行了一些解耦，使单个问题简单化。<br>坏处是还是有部分耦合使场景有内容重复，<br>另外一个坏处是，有些人遇到这些场景合并在一起的情况可能就不知道怎么做了，<br>所以我这里就直接把这几种场景何在一起来讲，因为本身也不是太复杂。没必要拆那么细。</p>\n<h3 id=\"一台电脑上有两个github账号和一个gitlab账号\">一台电脑上有两个github账号和一个gitlab账号<a href=\"git-多账号切换问题#一台电脑上有两个github账号和一个gitlab账号\"></a></h3><p>这几个账号都配置有独立的rsa秘钥。</p>\n<p>首先.修改 <strong>~/.ssh/config</strong> 文件，修改大致如下：</p>\n<figure class=\"highlight\"><div><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">host 1.github.com</span><br><span class=\"line\">    hostname github.com</span><br><span class=\"line\">   <span class=\"built_in\"> Port </span>65095</span><br><span class=\"line\">   <span class=\"built_in\"> User </span>username1</span><br><span class=\"line\">    IdentityFile ~/.ssh/github1_rsa</span><br><span class=\"line\"></span><br><span class=\"line\">host 2.github.com</span><br><span class=\"line\">    hostname github.com</span><br><span class=\"line\">   <span class=\"built_in\"> Port </span>65095</span><br><span class=\"line\">   <span class=\"built_in\"> User </span>username2</span><br><span class=\"line\">    IdentityFile ~/.ssh/github2_rsa</span><br><span class=\"line\"></span><br><span class=\"line\">host gitlab.example.com</span><br><span class=\"line\">    hostname gitlab.example.com</span><br><span class=\"line\">   <span class=\"built_in\"> Port </span>65095</span><br><span class=\"line\">   <span class=\"built_in\"> User </span>username3</span><br><span class=\"line\">    IdentityFile ~/.ssh/gitlab_rsa</span><br></pre></td></tr></table></div></figure>\n\n<p>使用 git 的时候它会根据邮箱自动去判断项目应该提交到哪个仓库，所以需要取消全局的git用户邮箱配置</p>\n<figure class=\"highlight\"><div><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">git<span class=\"built_in\"> config </span>--global --unset user.name</span><br><span class=\"line\">git<span class=\"built_in\"> config </span>--global --unset user.email</span><br></pre></td></tr></table></div></figure>\n\n<p>然后到项目目录里对项目单独设置 local 的用户名和邮箱</p>\n<figure class=\"highlight\"><div><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">git<span class=\"built_in\"> config </span> user.email <span class=\"string\">\"xxxx@xx.com\"</span></span><br><span class=\"line\">git<span class=\"built_in\"> config </span> user.name <span class=\"string\">\"suzie\"</span></span><br></pre></td></tr></table></div></figure>\n\n<p>这样配好后，只要在需要使用 git 的项目里配置下对应项目的用户名和邮箱，就可以照常使用命令了，会自动对应到相应地仓库。</p>\n<p>###参考<br><a href=\"https://gist.github.com/suziewong/4378434\" target=\"_blank\" rel=\"noopener\">https://gist.github.com/suziewong/4378434</a><br><a href=\"http://stackoverflow.com/questions/750172/how-do-i-change-the-author-of-a-commit-in-git\" target=\"_blank\" rel=\"noopener\">http://stackoverflow.com/questions/750172/how-do-i-change-the-author-of-a-commit-in-git</a><br><a href=\"https://help.github.com/articles/changing-author-info\" target=\"_blank\" rel=\"noopener\">https://help.github.com/articles/changing-author-info</a></p>\n","prev":{"title":"国内高速 npm 源","link":"cnpmjs-source"},"next":{"title":"安装 node-opencv","link":"install-node-opencv"},"plink":"https://wuwb.github.io/git-多账号切换问题/","reward":true,"copyright":{"author":"吴文斌","link":"<a href=\"https://wuwb.github.io/git-多账号切换问题/\" title=\"Git多账号切换问题\">https://wuwb.github.io/git-多账号切换问题/</a>","license":"自由转载-非商用-禁止演绎-保持署名 (<a href=\\\"https://creativecommons.org/licenses/by-nc-nd/4.0/\\\" rel=\\\"external nofollow\\\" target=\\\"_blank\\\">CC BY-NC-ND 4.0</a>)"}}